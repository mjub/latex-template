% Define a new math-specific command without overriding existing ones in text mode.
\DeclareDocumentCommand \NewMathCommand {>\TrimSpaces m >\TrimSpaces m m}
  {%
    \expandafter\let\csname old\string#1\endcsname=#1
    \expandafter\NewDocumentCommand\csname new\string#1\endcsname{#2}{#3}
    \DeclareRobustCommand #1
      {%
        \ifmmode
            \expandafter\let\expandafter\next\csname new\string#1\endcsname
        \else
            \expandafter\let\expandafter\next\csname old\string#1\endcsname
        \fi
        \next%
      }
  }

% Define a new math-specific abbreviation.
\NewDocumentCommand \Abbr {>\TrimSpaces m >\TrimSpaces m}
  {%
    \NewMathCommand #1 {} {#2}
  }

\makeatletter
  % Give a uniform look to all standard categories.
  \let\@category\mathbf

  \Abbr \Ab {\mathsf{Ab}}
  \Abbr \Aut {\operatorname{Aut}}
  \Abbr \bC {\mathbf{C}}
  \Abbr \bD {\mathbf{D}}
  \Abbr \Cat {\@category{Cat}}
  \Abbr \C {\mathcal{C}}
  \Abbr \coker {\operatorname{coker}}
  \Abbr \dim {\operatorname{dim}}
  \Abbr \D {\mathcal{D}}
  \Abbr \empty {\varnothing}
  \Abbr \eqq {\overset{\mathclap{\text{\tiny{def}}}}{=}}
  \Abbr \Grp {\@category{Grp}}
  \Abbr \Hom {\mathrm{Hom}}
  \Abbr \I {\mathcal{I}}
  \Abbr \im {\operatorname{im}}
  \Abbr \ker {\operatorname{ker}}
  \Abbr \Lat {\@category{Lat}}
  \Abbr \M {\mathcal{M}}
  \Abbr \N {\mathbb{N}}
  \Abbr \one {\mathbf{1}}
  \Abbr \op {{}^{\mathsf{op}}}
  \Abbr \Pos {\@category{Pos}}
  \Abbr \PSh {\@category{PSh}}
  \Abbr \rank {\mathrm{rank}}
  \Abbr \R {\mathbb{R}}
  \Abbr \Set {\@category{Set}}
  \Abbr \S {\mathbb{S}}
  \Abbr \sSet {\@category{sSet}}
  \Abbr \Top {\@category{Top}}
  \Abbr \two {\mathbf{2}}
  \Abbr \zero {\mathbf{0}}
\makeatother
